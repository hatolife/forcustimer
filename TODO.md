# Focus Timer - TODO リスト

## 1. タイマー機能

### 1.1 タイマーモード

- [x] Workモード (25分)
  - [x] 時間設定: 1500秒
  - [x] 完了時メッセージ: 「作業終了!」
  - [x] ボタン動作: クリックで即座に開始

- [x] Breakモード (5分)
  - [x] 時間設定: 300秒
  - [x] 完了時メッセージ: 「休憩終了!」
  - [x] ボタン動作: クリックで即座に開始

- [x] Customモード
  - [x] ユーザー指定時間 (分・秒)
  - [x] 設定範囲: 分 0〜999、秒 0〜59
  - [x] リアルタイム入力反映
  - [x] Setボタンなし（入力即反映）
  - [x] 完了時メッセージ: 「タイマー終了!」

### 1.2 タイマー操作

- [x] Start (開始)
  - [x] タイマー開始機能
  - [x] idle状態でのみ表示
  - [x] Enterキーで開始

- [x] Pause (一時停止)
  - [x] タイマー一時停止機能
  - [x] 残り時間保持
  - [x] 実行中のみ表示
  - [x] Enterキーで一時停止

- [x] Reset (リセット)
  - [x] タイマーリセット機能
  - [x] デフォルト値に戻す
  - [x] 実行中のみ表示

- [x] 完了画面
  - [x] Start/Pause/Resetボタンを非表示
  - [x] 完了メッセージ表示
  - [x] モード切替ボタンは表示

- [x] モード切替
  - [x] Work/Breakボタン常時表示（running時は非表示）
  - [x] クリックで即座にリセット&開始

### 1.3 タイマー表示

- [x] 時間表示: MM:SS形式
- [x] モード表示: Work / Break / Custom
- [x] リアルタイム更新 (滑らかな表示)

## 2. 通知機能

### 2.1 通知許可

- [x] 通知未許可時
  - [x] ベルアイコン（斜線付き）を右上に表示
  - [x] クリックで通知許可リクエスト

- [x] 通知許可後
  - [x] テスト通知表示
  - [x] ベルアイコンを非表示

- [x] 通知許可済み
  - [x] ベルアイコン非表示

### 2.2 タイマー完了通知

- [x] Workモード完了
  - [x] タイトル: 「作業終了!」
  - [x] 本文: 「25分の作業お疲れ様でした!」

- [x] Breakモード完了
  - [x] タイトル: 「休憩終了!」
  - [x] 本文: 「5分の休憩終了です!」

- [x] Customモード完了
  - [x] タイトル: 「タイマー終了!」
  - [x] 本文: 「カスタムタイマーが終了しました!」

### 2.3 対応環境

- [x] デスクトップブラウザ対応 (Chrome, Safari, Firefox, Edge)
- [x] モバイルブラウザ対応 (iOS Safari PWA, Android Chrome)
- [x] 通知許可必須

## 3. UI/UX機能

### 3.1 完了エフェクト

- [x] コンテナ背景色変更
- [x] タイマー表示アニメーション
- [x] 完了メッセージ表示
- [x] Start/Pause/Resetボタン非表示

### 3.2 ボタン表示制御

- [x] idle状態
  - [x] Start: 表示
  - [x] Pause: 非表示
  - [x] Reset: 非表示
  - [x] Work/Breakボタン: 表示
  - [x] カスタムタイマー入力欄: 表示

- [x] running状態
  - [x] Start: 非表示
  - [x] Pause: 表示
  - [x] Reset: 表示
  - [x] Work/Breakボタン: 非表示
  - [x] カスタムタイマー入力欄: 非表示

- [x] paused状態
  - [x] Start: 表示
  - [x] Pause: 非表示
  - [x] Reset: 表示
  - [x] Work/Breakボタン: 表示
  - [x] カスタムタイマー入力欄: 表示

- [x] completed状態
  - [x] Start: 非表示
  - [x] Pause: 非表示
  - [x] Reset: 非表示
  - [x] Work/Breakボタン: 表示
  - [x] カスタムタイマー入力欄: 表示

### 3.3 キーボード操作

- [x] Enterキー
  - [x] 停止中: Start実行
  - [x] 実行中: Pause実行
- [x] Tab/Shift+Tab: フォーカス移動

### 3.4 レスポンシブデザイン

- [x] デスクトップ対応
- [x] タブレット対応
- [x] スマートフォン対応 (縦・横)
- [x] 超小画面デバイス対応

## 4. PWA機能

### 4.1 オフライン対応

- [x] ネットワーク接続なしで動作
- [x] 初回アクセス後の全機能利用
- [x] Service Workerによるキャッシング

### 4.2 インストール機能

- [x] デスクトップ
  - [x] ブラウザの「インストール」ボタン
  - [x] 独立ウィンドウで起動

- [x] モバイル
  - [x] ホーム画面に追加
  - [x] アプリアイコンから起動
  - [x] フルスクリーン表示

### 4.3 アプリアイコン

- [x] 8サイズ対応
  - [x] 72x72px
  - [x] 96x96px
  - [x] 128x128px
  - [x] 144x144px
  - [x] 152x152px
  - [x] 192x192px
  - [x] 384x384px
  - [x] 512x512px

### 4.4 ショートカット

- [x] Workショートカット
  - [x] 名前: 「Start Work Timer」
  - [x] 説明: 「25分の作業タイマーを開始」
  - [x] URL: `/?mode=work`

- [x] Breakショートカット
  - [x] 名前: 「Start Break Timer」
  - [x] 説明: 「5分の休憩タイマーを開始」
  - [x] URL: `/?mode=break`

## 5. 開発・テスト

### 5.1 テスト

- [x] Timer クラスの単体テスト
- [x] UI統合テスト
- [x] テストカバレッジ 80%以上達成

### 5.2 CI/CD

- [x] GitHub Actions設定
- [x] プルリクエスト時の自動テスト
- [x] mainブランチへのpush時の自動デプロイ
- [x] テスト失敗時のデプロイ防止
- [x] GitHub Pagesデプロイ
- [x] カスタムドメイン設定 (https://focus.hato.life/)

### 5.3 コード品質

- [x] TypeScript設定
- [x] Jest設定
- [x] コーディング規約準拠
- [x] TDD (Test-Driven Development)

## 6. 将来の拡張候補 (未実装)

- [ ] 統計・履歴機能
- [ ] ダークモード対応
- [ ] カスタムサウンド設定
- [ ] 作業セッション数のカウント
- [ ] 設定のエクスポート/インポート
- [ ] 複数タイマープリセット
- [ ] タイマー完了時の自動モード切替
- [ ] Pomodoro自動ループ機能
